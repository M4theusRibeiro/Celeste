<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranking</title>
    <link rel="stylesheet" href="../styles/styles-gerais.css">
    <link rel="stylesheet" href="../styles/ranking.css">
    <script src=""></script>
</head>
<body onload="atualizarFeed()">
    <header>
        <nav>
            <div class="icon">
                <a href="../pico8.html"><img src="../assets/img/morango.png"></a> 
            </div>
                <div class="navbar">
                  <ul>
                    <li>
                        <a class="txtBranco" onclick="limparSessao()" href="../index.html">Sair</a>
                    </li>
                    <li class="btn">
                        <a class="txtBranco" href="../index.html">Home</a>
                    </li>
                    <li>
                        <a class="txtBranco" href="/dashboard/game.html">Jogo</a>
                    </li>
                    <li>
                        <a class="agora" href="/dashboard/ranking.html">Ranking</a>
                    </li>
                    <li>
                        <a class="txtBranco" href="/dashboard/dashInicial.html">Dashboard</a>
                    </li>
                    <li>
                        <a class="txtBranco" href="/dashboard/mural.html">Fórum</a>
                    </li>
                </ul>
                </div>
            </div>
            </div>
        </nav>
    </header>
    <main>
        <div class="banner">
            <div class="container-ranking">
                TABELA DE PONTOS
                <div class="tabela">
                    <div id="posicao">
                        1º 
                    </div>
                    <div class="foto">
                        <img width="50%" height="50%" src="../assets/img/personagensGif/badeline/yell.gif">
                    </div>
                    <div class="nome" id="nome1">
                        -----
                    </div>
                    <div class="pontuacao" id="pontuacao1">
                        ---
                    </div>
                </div>
                <div class="tabela">
                    <div id="posicao">
                        2º 
                    </div>
                    <div class="foto">
                        <img width="50%" height="50%" src="../assets/img/personagensGif/badeline/yell.gif">
                    </div>
                    <div class="nome" id="nome2">
                        -----
                    </div>
                    <div class="pontuacao" id="pontuacao2">
                        ---
                    </div>
                </div>
                <div class="tabela">
                    <div id="posicao">
                        3º 
                    </div>
                    <div class="foto">
                        <img width="50%" height="50%" src="../assets/img/personagensGif/badeline/yell.gif">
                    </div>
                    <div class="nome" id="nome3">
                        -----
                    </div>
                    <div class="pontuacao" id="pontuacao3">
                        ---
                    </div>
                </div>
                <div class="tabela">
                    <div id="posicao">
                        4º 
                    </div>
                    <div class="foto">
                        <img width="50%" height="50%" src="../assets/img/personagensGif/badeline/yell.gif">
                    </div>
                    <div class="nome" id="nome4">
                        -----
                    </div>
                    <div class="pontuacao" id="pontuacao4">
                        ---
                    </div>
                </div>
                <div class="tabela">
                    <div id="posicao">
                        5º 
                    </div>
                    <div class="foto">
                        <img width="50%" height="50%" src="../assets/img/personagensGif/badeline/yell.gif">
                    </div>
                    <div class="nome" id="nome5">
                        -----
                    </div>
                    <div class="pontuacao" id="pontuacao5">
                        ---
                    </div>
                </div>
                <div class="tabela">
                    <div id="posicao">
                        6º 
                    </div>
                    <div class="foto">
                        <img width="50%" height="50%" src="../assets/img/personagensGif/badeline/yell.gif">
                    </div>
                    <div class="nome" id="nome6">
                        -----
                    </div>
                    <div class="pontuacao" id="pontuacao6">
                        ---
                    </div>
                </div>
                <div class="tabela">
                    <div id="posicao">
                        7º 
                    </div>
                    <div class="foto">
                        <img width="50%" height="50%" src="../assets/img/personagensGif/badeline/yell.gif">
                    </div>
                    <div class="nome" id="nome7">
                        -----
                    </div>
                    <div class="pontuacao" id="pontuacao7">
                        ---
                    </div>
                </div>
                <div class="tabela">
                    <div id="posicao">
                        8º 
                    </div>
                    <div class="foto">
                        <img width="50%" height="50%" src="../assets/img/personagensGif/badeline/yell.gif">
                    </div>
                    <div class="nome" id="nome8">
                        -----
                    </div>
                    <div class="pontuacao" id="pontuacao8">
                        ---
                    </div>
                </div>

            </div>
        </div>
        </div>
    </main>



</body>
</html>

<script>

function atualizarFeed() {
    //aguardar();
    fetch("/ranking/listar").then(function (resposta) {
        if (resposta.ok) {
            if (resposta.status == 204) {
                    console.log("Nenhum resultado encontrado!!")
                throw "Nenhum resultado encontrado!!";
            }
            resposta.json().then(function (resposta) {
                console.log("Dados recebidos: ", JSON.stringify(resposta));

                for (let i = 0; i < resposta.length; i++) {
                    var ranking = resposta[i];

                     if(i == 0){
                        nome1.innerHTML = ranking.nome
                        pontuacao1.innerHTML = ranking.pontuacao
                     }else if(i == 1){
                        nome2.innerHTML = ranking.nome
                        pontuacao2.innerHTML = ranking.pontuacao
                     }else if(i == 2){
                        nome3.innerHTML = ranking.nome
                        pontuacao3.innerHTML = ranking.pontuacao
                     }else if(i == 3){
                        nome4.innerHTML = ranking.nome
                        pontuacao4.innerHTML = ranking.pontuacao
                     }else if(i == 4){
                        nome5.innerHTML = ranking.nome
                        pontuacao5.innerHTML = ranking.pontuacao
                     }else if(i == 5){
                        nome6.innerHTML = ranking.nome
                        pontuacao6.innerHTML = ranking.pontuacao
                     }else if(i == 6){
                        nome7.innerHTML = ranking.nome
                        pontuacao7.innerHTML = ranking.pontuacao
                     }else if(i == 7){
                        nome8.innerHTML = ranking.nome
                        pontuacao8.innerHTML = ranking.pontuacao
                     }
                }
            });
        } else {
            throw ('Houve um erro na API!');
        }
    }).catch(function (resposta) {
        console.error(resposta);

    });
}

</script>